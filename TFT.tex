\documentclass[11pt,a4paper]{report}

\title{Sistema de extracción de información de documentos}
\author{Daniel González Cerviño}
\date{\today}

% Configure language and codification
%\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[spanish]{babel}
\selectlanguage{spanish}
\addto\captionsspanish{\renewcommand{\tablename}{Tabla}}
\addto\captionsspanish{\renewcommand{\listtablename}{Índice de tablas}}

% Set margins
\usepackage[top=3.5cm,bottom=3.5cm,left=2.75cm,right=2.75cm]{geometry}

% Fonts
\usepackage{fontspec}
\usepackage{lmodern}
\setmainfont{Montserrat}
\newfontfamily\chapterfont{Oswald}
\newfontfamily\sectionfont{Oswald}

% Font colors
\usepackage{xcolor}
\definecolor{color_orange}{HTML}{E65113}
\definecolor{color_dark_grey_1}{HTML}{606060}
\definecolor{color_dark_grey_2}{HTML}{707070}
\definecolor{color_dark_grey_3}{HTML}{808080}
\definecolor{color_dark_grey_4}{HTML}{909090}
\definecolor{color_highlight}{HTML}{FFFF00}
\color{color_dark_grey_2}

% Chapter style format
\usepackage{titlesec}
\titleformat{\chapter}[hang]
{\chapterfont\Huge\bfseries\color{color_orange}}
{\thechapter}{1em}{}
\titlespacing*{\chapter}{0pt}{*3}{*0.75}

% Section style format
\titleformat{\section}[hang]
{\sectionfont\Large\bfseries\color{color_dark_grey_1}}
{\thesection}{1em}{}
\titlespacing*{\section}{0pt}{*1}{*0.5}

% Subsection style format
\titleformat{\subsection}[hang]
{\sectionfont\large\color{color_dark_grey_2}}{\thesubsection}{1em}{}
\titlespacing*{\subsection}{0pt}{*0.9}{*0.4}

\titleformat{\subsubsection}[hang]
{\sectionfont\large\color{color_dark_grey_3}}{\subsubsection}{0.9em}{}
\titlespacing*{\subsubsection}{0pt}{*0.8}{*0.3}

% Appendix style format
\titleformat{\appendix}[hang]
{\appendixfont\Huge\bfseries\color{color_orange}}
{\theappendix}{1em}{}

% Set interline spacing
\usepackage{setspace}
\setstretch{1.3}

% Add empty line after paragraphs
\usepackage{parskip}
\setlength{\parskip}{1em}

% Prevent word breaking
\usepackage[none]{hyphenat}
\usepackage{microtype}
\sloppy

% Image manipulation
\usepackage{graphicx}
\usepackage{tikz}

% Allow tables with 100% width
\usepackage{tabularx}
\usepackage{booktabs}

% Set headers and footers
\usepackage{fancyhdr}
\usepackage{lastpage}
\fancypagestyle{plain}{
    \renewcommand{\headrulewidth}{0pt}
    \fancyhead{}
    \fancyfoot{}
    \fancyfoot[R]{{\scriptsize \thepage\ de~\pageref{LastPage}}}
    \fancyfoot[L]{Sistema de extracción de información de documentos}
    \fancyhead[L]
    {\tikz[remember picture,overlay]\node[opacity=0.4] at (-3mm, 10mm){\includegraphics[scale=0.18]{./images/header}};}
    \fancyheadoffset{0pt}
}
\setlength{\headheight}{13.6pt}
\addtolength{\topmargin}{-1.6pt}

% List configuration
\usepackage{enumitem}
\setlist[enumerate,1]{left=20pt, noitemsep}
\setlist[itemize,1]{left=20pt, noitemsep}

% Code style Configuration
\usepackage{listings}
\definecolor{color_code_green}{rgb}{0,0.6,0}
\definecolor{color_code_gray}{rgb}{0.5,0.5,0.5}
\definecolor{color_code_purple}{rgb}{0.58,0,0.82}
\definecolor{color_code_background}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{my_style}{
    basicstyle=\ttfamily\scriptsize, % Tamaño de fuente reducido
    backgroundcolor=\color{color_code_background},
    commentstyle=\color{color_code_green},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{color_code_gray},
    stringstyle=\color{color_code_purple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=none,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}
\lstset{style=my_style}

% Bibliography Configuration
\usepackage[backend=biber, sorting=none]{biblatex}
\usepackage{csquotes}
\usepackage[utf8]{inputenc}
\addbibresource{TFT.bib}

\pagestyle{plain}

\begin{document}

    % Cover
    \include{./cover/cover}
    \include{./cover/table}

    % Dedication
    \input{./dedication/dedication}

    % Table of contents
    \tableofcontents
    \addcontentsline{toc}{chapter}{\listfigurename}
    \addcontentsline{toc}{chapter}{\listtablename}
    \listoffigures
    \listoftables

    % Abstract
    \input{./abstract/abstract_1}
    \input{./abstract/abstract_2}

    %% Chapters
    \include{chapter/1/chapter}
    \include{chapter/2/chapter}
    \include{chapter/3/chapter}
    \include{chapter/4/chapter}
    \include{chapter/5/chapter}
    \include{chapter/6/chapter}


    %% Appendix
    \appendix
    \include{./appendix/appendix_1}
    %\include{./appendix/appendix_2}

    \printbibliography

\end{document}
